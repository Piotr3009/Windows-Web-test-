<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Build Your Own Windows | Skylon Timber & Glazing House</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css?v=2">
  <link rel="stylesheet" href="css/configurator.css">
  <style>
.login-button-top {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
}
.login-button-top a {
    display: inline-block;
    padding: 12px 25px;
    background: var(--primary-color);
    color: white;
    text-decoration: none;
    border-radius: 5px;
    font-weight: 600;
    transition: all 0.3s;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}
.login-button-top a:hover {
    background: #1a4d36;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.estimate-selector-section {
    background: #f8f9fa;
    border: 2px solid var(--primary-color);
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
}

.estimate-selector-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.estimate-dropdown {
    width: 100%;
    padding: 12px 15px;
    font-size: 0.85rem;
    border: 2px solid var(--primary-color);
    border-radius: 5px;
    background: white;
    font-family: 'Raleway', sans-serif;
    cursor: pointer;
    transition: all 0.3s;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.estimate-dropdown:hover {
    border-color: var(--secondary-color);
}

.estimate-dropdown:focus {
    outline: none;
    border-color: var(--secondary-color);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
}

.estimate-dropdown option[value="new"] {
    font-weight: 600;
    color: var(--primary-color);
}

.estimate-info {
    margin-top: 10px;
    font-size: 14px;
    color: #666;
    font-style: italic;
}

.btn-small {
    padding: 9px 15px;
    font-size: 16px;
    width: 100%;
}

/* New Estimate Modal Styles */
.modal-form {
    padding: 20px 0;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px;
    color: #333;
    font-size: 16px;
}

.form-group input[type="text"],
.form-group textarea {
    width: 100%;
    padding: 12px 15px;
    font-size: 15px;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-family: 'Raleway', sans-serif;
    transition: border-color 0.3s;
    box-sizing: border-box;
}

.form-group input[type="text"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary-color);
}

.form-group textarea {
    resize: vertical;
    min-height: 80px;
}

.form-hint {
    display: block;
    margin-top: 5px;
    font-size: 13px;
    color: #666;
    font-style: italic;
}

.modal-actions {
    display: flex;
    gap: 15px;
    margin-top: 30px;
}

.modal-actions .btn,
.modal-actions .btn-secondary {
    flex: 1;
    margin: 0;
}
  </style>
</head>
<body>

<div class="login-button-top"><a href="login.html" class="auth-required">Login / Register</a></div>

<div id="unified-menu-placeholder"></div>

<header class="header">
  <h1>Build Your Own Sash Windows</h1>
  <p>Configure and Price Your Perfect Sash Windows</p>
</header>

<main class="container">
  <div class="configurator-grid">
    <div class="configurator-options">
      <div class="config-section">
        <h3>Step 1: Window Dimensions</h3>
        <!-- HIDDEN DISPLAY ELEMENTS FIX -->
        <div style="display:none">
          <span id="width-display">1000</span>
          <span id="height-display">1500</span>
        </div>
        
        <div class="input-group">
          <label for="measurement-type">Measurement Method:</label>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="brick-to-brick" name="measurement-type" value="brick-to-brick" checked>
              <label for="brick-to-brick" class="radio-label">Structural Opening</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="box-to-box" name="measurement-type" value="box-to-box">
              <label for="box-to-box" class="radio-label">Frame Dimensions</label>
            </div>
          </div>
        </div>
        <!-- MEASUREMENT INFO BOX - START -->
<div id="measurement-info" class="measurement-info-box" style="display: none;">
  <div class="info-content">

<p><strong>Required frame dimensions:</strong></p>
<p>Width: <span id="actual-width">-</span> mm (structural opening + 150 mm)</p>
<p>Height: <span id="actual-height">-</span> mm (structural opening + 75 mm)</p>
    <p class="info-note">
      <em>Frame overlaps brickwork for proper installation</em>
    </p>
    <a href="measurement-guide.html" class="measurement-link" target="_blank">
      üìê See measuring instructions
    </a>
  </div>
</div>
<!-- MEASUREMENT INFO BOX - END -->
        
        <div class="input-group">
          <label for="width">Width (mm):</label>
          <div class="dimension-input-wrapper">
            <select id="width-select" class="dimension-select">
              <option value="custom">Custom size</option>
              <option value="0" selected>0 mm</option>
              <option value="400">400 mm</option>
              <option value="410">410 mm</option>
              <option value="420">420 mm</option>
              <option value="430">430 mm</option>
              <option value="440">440 mm</option>
              <option value="450">450 mm</option>
              <option value="460">460 mm</option>
              <option value="470">470 mm</option>
              <option value="480">480 mm</option>
              <option value="490">490 mm</option>
              <option value="500">500 mm</option>
              <option value="510">510 mm</option>
              <option value="520">520 mm</option>
              <option value="530">530 mm</option>
              <option value="540">540 mm</option>
              <option value="550">550 mm</option>
              <option value="560">560 mm</option>
              <option value="570">570 mm</option>
              <option value="580">580 mm</option>
              <option value="590">590 mm</option>
              <option value="600">600 mm</option>
              <option value="610">610 mm</option>
              <option value="620">620 mm</option>
              <option value="630">630 mm</option>
              <option value="640">640 mm</option>
              <option value="650">650 mm</option>
              <option value="660">660 mm</option>
              <option value="670">670 mm</option>
              <option value="680">680 mm</option>
              <option value="690">690 mm</option>
              <option value="700">700 mm</option>
              <option value="710">710 mm</option>
              <option value="720">720 mm</option>
              <option value="730">730 mm</option>
              <option value="740">740 mm</option>
              <option value="750">750 mm</option>
              <option value="760">760 mm</option>
              <option value="770">770 mm</option>
              <option value="780">780 mm</option>
              <option value="790">790 mm</option>
              <option value="800">800 mm</option>
              <option value="810">810 mm</option>
              <option value="820">820 mm</option>
              <option value="830">830 mm</option>
              <option value="840">840 mm</option>
              <option value="850">850 mm</option>
              <option value="860">860 mm</option>
              <option value="870">870 mm</option>
              <option value="880">880 mm</option>
              <option value="890">890 mm</option>
              <option value="900">900 mm</option>
              <option value="910">910 mm</option>
              <option value="920">920 mm</option>
              <option value="930">930 mm</option>
              <option value="940">940 mm</option>
              <option value="950">950 mm</option>
              <option value="960">960 mm</option>
              <option value="970">970 mm</option>
              <option value="980">980 mm</option>
              <option value="990">990 mm</option>
              <option value="1000">1000 mm</option>
              <option value="1010">1010 mm</option>
              <option value="1020">1020 mm</option>
              <option value="1030">1030 mm</option>
              <option value="1040">1040 mm</option>
              <option value="1050">1050 mm</option>
              <option value="1060">1060 mm</option>
              <option value="1070">1070 mm</option>
              <option value="1080">1080 mm</option>
              <option value="1090">1090 mm</option>
              <option value="1100">1100 mm</option>
              <option value="1110">1110 mm</option>
              <option value="1120">1120 mm</option>
              <option value="1130">1130 mm</option>
              <option value="1140">1140 mm</option>
              <option value="1150">1150 mm</option>
              <option value="1160">1160 mm</option>
              <option value="1170">1170 mm</option>
              <option value="1180">1180 mm</option>
              <option value="1190">1190 mm</option>
              <option value="1200">1200 mm</option>
              <option value="1210">1210 mm</option>
              <option value="1220">1220 mm</option>
              <option value="1230">1230 mm</option>
              <option value="1240">1240 mm</option>
              <option value="1250">1250 mm</option>
              <option value="1260">1260 mm</option>
              <option value="1270">1270 mm</option>
              <option value="1280">1280 mm</option>
              <option value="1290">1290 mm</option>
              <option value="1300">1300 mm</option>
              <option value="1310">1310 mm</option>
              <option value="1320">1320 mm</option>
              <option value="1330">1330 mm</option>
              <option value="1340">1340 mm</option>
              <option value="1350">1350 mm</option>
              <option value="1360">1360 mm</option>
              <option value="1370">1370 mm</option>
              <option value="1380">1380 mm</option>
              <option value="1390">1390 mm</option>
              <option value="1400">1400 mm</option>
              <option value="1410">1410 mm</option>
              <option value="1420">1420 mm</option>
              <option value="1430">1430 mm</option>
              <option value="1440">1440 mm</option>
              <option value="1450">1450 mm</option>
              <option value="1460">1460 mm</option>
              <option value="1470">1470 mm</option>
              <option value="1480">1480 mm</option>
              <option value="1490">1490 mm</option>
              <option value="1500">1500 mm</option>
            </select>
            <input type="number" id="width" min="400" max="1500" value="800" step="10" style="display: none;">
          </div>
        </div>
        
        <div class="input-group">
          <label for="height">Height (mm):</label>
          <div class="dimension-input-wrapper">
            <select id="height-select" class="dimension-select">
              <option value="custom">Custom size</option>
              <option value="0"selected>0 mm</option>
              <option value="800">800 mm</option>
              <option value="810">810 mm</option>
              <option value="820">820 mm</option>
              <option value="830">830 mm</option>
              <option value="840">840 mm</option>
              <option value="850">850 mm</option>
              <option value="860">860 mm</option>
              <option value="870">870 mm</option>
              <option value="880">880 mm</option>
              <option value="890">890 mm</option>
              <option value="900">900 mm</option>
              <option value="910">910 mm</option>
              <option value="920">920 mm</option>
              <option value="930">930 mm</option>
              <option value="940">940 mm</option>
              <option value="950">950 mm</option>
              <option value="960">960 mm</option>
              <option value="970">970 mm</option>
              <option value="980">980 mm</option>
              <option value="990">990 mm</option>
              <option value="1000">1000 mm</option>
              <option value="1010">1010 mm</option>
              <option value="1020">1020 mm</option>
              <option value="1030">1030 mm</option>
              <option value="1040">1040 mm</option>
              <option value="1050">1050 mm</option>
              <option value="1060">1060 mm</option>
              <option value="1070">1070 mm</option>
              <option value="1080">1080 mm</option>
              <option value="1090">1090 mm</option>
              <option value="1100">1100 mm</option>
              <option value="1110">1110 mm</option>
              <option value="1120">1120 mm</option>
              <option value="1130">1130 mm</option>
              <option value="1140">1140 mm</option>
              <option value="1150">1150 mm</option>
              <option value="1160">1160 mm</option>
              <option value="1170">1170 mm</option>
              <option value="1180">1180 mm</option>
              <option value="1190">1190 mm</option>
              <option value="1200">1200 mm</option>
              <option value="1210">1210 mm</option>
              <option value="1220">1220 mm</option>
              <option value="1230">1230 mm</option>
              <option value="1240">1240 mm</option>
              <option value="1250">1250 mm</option>
              <option value="1260">1260 mm</option>
              <option value="1270">1270 mm</option>
              <option value="1280">1280 mm</option>
              <option value="1290">1290 mm</option>
              <option value="1300">1300 mm</option>
              <option value="1310">1310 mm</option>
              <option value="1320">1320 mm</option>
              <option value="1330">1330 mm</option>
              <option value="1340">1340 mm</option>
              <option value="1350">1350 mm</option>
              <option value="1360">1360 mm</option>
              <option value="1370">1370 mm</option>
              <option value="1380">1380 mm</option>
              <option value="1390">1390 mm</option>
              <option value="1400">1400 mm</option>
              <option value="1410">1410 mm</option>
              <option value="1420">1420 mm</option>
              <option value="1430">1430 mm</option>
              <option value="1440">1440 mm</option>
              <option value="1450">1450 mm</option>
              <option value="1460">1460 mm</option>
              <option value="1470">1470 mm</option>
              <option value="1480">1480 mm</option>
              <option value="1490">1490 mm</option>
              <option value="1500">1500 mm</option>
              <option value="1510">1510 mm</option>
              <option value="1520">1520 mm</option>
              <option value="1530">1530 mm</option>
              <option value="1540">1540 mm</option>
              <option value="1550">1550 mm</option>
              <option value="1560">1560 mm</option>
              <option value="1570">1570 mm</option>
              <option value="1580">1580 mm</option>
              <option value="1590">1590 mm</option>
              <option value="1600">1600 mm</option>
              <option value="1610">1610 mm</option>
              <option value="1620">1620 mm</option>
              <option value="1630">1630 mm</option>
              <option value="1640">1640 mm</option>
              <option value="1650">1650 mm</option>
              <option value="1660">1660 mm</option>
              <option value="1670">1670 mm</option>
              <option value="1680">1680 mm</option>
              <option value="1690">1690 mm</option>
              <option value="1700">1700 mm</option>
              <option value="1710">1710 mm</option>
              <option value="1720">1720 mm</option>
              <option value="1730">1730 mm</option>
              <option value="1740">1740 mm</option>
              <option value="1750">1750 mm</option>
              <option value="1760">1760 mm</option>
              <option value="1770">1770 mm</option>
              <option value="1780">1780 mm</option>
              <option value="1790">1790 mm</option>
              <option value="1800">1800 mm</option>
              <option value="1810">1810 mm</option>
              <option value="1820">1820 mm</option>
              <option value="1830">1830 mm</option>
              <option value="1840">1840 mm</option>
              <option value="1850">1850 mm</option>
              <option value="1860">1860 mm</option>
              <option value="1870">1870 mm</option>
              <option value="1880">1880 mm</option>
              <option value="1890">1890 mm</option>
              <option value="1900">1900 mm</option>
              <option value="1910">1910 mm</option>
              <option value="1920">1920 mm</option>
              <option value="1930">1930 mm</option>
              <option value="1940">1940 mm</option>
              <option value="1950">1950 mm</option>
              <option value="1960">1960 mm</option>
              <option value="1970">1970 mm</option>
              <option value="1980">1980 mm</option>
              <option value="1990">1990 mm</option>
              <option value="2000">2000 mm</option>
              <option value="2010">2010 mm</option>
              <option value="2020">2020 mm</option>
              <option value="2030">2030 mm</option>
              <option value="2040">2040 mm</option>
              <option value="2050">2050 mm</option>
              <option value="2060">2060 mm</option>
              <option value="2070">2070 mm</option>
              <option value="2080">2080 mm</option>
              <option value="2090">2090 mm</option>
              <option value="2100">2100 mm</option>
              <option value="2110">2110 mm</option>
              <option value="2120">2120 mm</option>
              <option value="2130">2130 mm</option>
              <option value="2140">2140 mm</option>
              <option value="2150">2150 mm</option>
              <option value="2160">2160 mm</option>
              <option value="2170">2170 mm</option>
              <option value="2180">2180 mm</option>
              <option value="2190">2190 mm</option>
              <option value="2200">2200 mm</option>
              <option value="2210">2210 mm</option>
              <option value="2220">2220 mm</option>
              <option value="2230">2230 mm</option>
              <option value="2240">2240 mm</option>
              <option value="2250">2250 mm</option>
              <option value="2260">2260 mm</option>
              <option value="2270">2270 mm</option>
              <option value="2280">2280 mm</option>
              <option value="2290">2290 mm</option>
              <option value="2300">2300 mm</option>
              <option value="2310">2310 mm</option>
              <option value="2320">2320 mm</option>
              <option value="2330">2330 mm</option>
              <option value="2340">2340 mm</option>
              <option value="2350">2350 mm</option>
              <option value="2360">2360 mm</option>
              <option value="2370">2370 mm</option>
              <option value="2380">2380 mm</option>
              <option value="2390">2390 mm</option>
              <option value="2400">2400 mm</option>
              <option value="2410">2410 mm</option>
              <option value="2420">2420 mm</option>
              <option value="2430">2430 mm</option>
              <option value="2440">2440 mm</option>
              <option value="2450">2450 mm</option>
              <option value="2460">2460 mm</option>
              <option value="2470">2470 mm</option>
              <option value="2480">2480 mm</option>
              <option value="2490">2490 mm</option>
              <option value="2500">2500 mm</option>
            </select>
            <input type="number" id="height" min="800" max="2500" value="1000" step="10" style="display: none;">
          </div>
        </div>
        <button class="btn btn-apply" id="apply-dimensions">Apply Dimensions</button>
      </div>
      
      <div class="config-section">
        <h3>Step 2: Georgian Bars</h3>
        <div class="bars-group">
          <h4>Upper Sash Bars:</h4>
          <div class="input-group">
            <select id="upper-bars" class="detail-select" data-detail-type="bars">
              <option value="none">No Bars</option>
              <option value="2x2">2x2 Pattern</option>
              <option value="3x3">3x3 Pattern</option>
              <option value="4x4">4x4 Pattern</option>
              <option value="6x6">6x6 Pattern</option>
              <option value="9x9">9x9 Pattern</option>
              <option value="2-vertical">2 Vertical Bars</option>
              <option value="1-vertical">1 Vertical Bar</option>
              <!-- DISABLED: <option value="custom">Custom Design</option> -->
            </select>
          </div>
          <div id="upper-custom-bars-position" style="display: none;">
            <label for="upper-bar-position">Distance from Edge (mm):</label>
            <input type="number" id="upper-bar-position" min="50" max="500" value="150" step="10">
          </div>
        </div>
        
        <div class="bars-group">
          <h4>Lower Sash Bars:</h4>
          <div class="input-group">
            <select id="lower-bars" class="detail-select" data-detail-type="bars">
              <option value="none">No Bars</option>
              <option value="2x2">2x2 Pattern</option>
              <option value="3x3">3x3 Pattern</option>
              <option value="4x4">4x4 Pattern</option>
              <option value="6x6">6x6 Pattern</option>
              <option value="9x9">9x9 Pattern</option>
              <option value="2-vertical">2 Vertical Bars</option>
              <option value="1-vertical">1 Vertical Bar</option>
              <!-- DISABLED: <option value="custom">Custom Design</option> -->
            </select>
          </div>
          <div id="lower-custom-bars-position" style="display: none;">
            <label for="lower-bar-position">Distance from Edge (mm):</label>
            <input type="number" id="lower-bar-position" min="50" max="500" value="150" step="10">
          </div>
        </div>
        
        <div class="input-group">
          <input type="checkbox" id="same-bars-both-sashes" checked>
          <label for="same-bars-both-sashes">Use same pattern for both sashes</label>
        </div>
        
        <!-- HIDDEN: Custom Bar Design Panel - kept for canvas functionality -->
        <div id="custom-bars-container" class="custom-bars-container" style="display: none !important;">
          <h4>Custom Bar Design</h4>
          <div class="sash-panel">
            <h5>Upper Sash</h5>
            <div class="bar-pattern-buttons">
              <button class="pattern-btn" data-sash="upper" data-pattern="2x2">2√ó2</button>
              <button class="pattern-btn" data-sash="upper" data-pattern="3x3">3√ó3</button>
              <button class="pattern-btn" data-sash="upper" data-pattern="4x4">4√ó4</button>
              <button class="pattern-btn selected" data-sash="upper" data-pattern="6x6">6√ó6</button>
              <button class="pattern-btn" data-sash="upper" data-pattern="9x9">9√ó9</button>
              <button class="pattern-btn advanced" data-sash="upper" data-pattern="custom">Manual Edit</button>
            </div>
            
            <div id="upper-sash-canvas-container" class="canvas-container">
              <div class="canvas-wrapper">
                <canvas id="upper-sash-bars-canvas" class="bars-canvas" width="300" height="200"></canvas>
                <div class="canvas-background"></div>
              </div>
              <div class="bars-info">Upper Sash</div>
            </div>
            <div class="advanced-tools" id="upper-advanced-tools" style="display: none;">
              <button class="tool-btn" data-sash="upper" data-tool="add-horizontal">Add Horizontal</button>
              <button class="tool-btn" data-sash="upper" data-tool="add-vertical">Add Vertical</button>
              <button class="tool-btn" data-sash="upper" data-tool="clear">Clear All</button>
            </div>
          </div>
          
          <div class="same-pattern-control">
            <input type="checkbox" id="same-pattern-both-sashes" checked>
            <label for="same-pattern-both-sashes">Apply same pattern to both sashes</label>
          </div>
          
          <div class="sash-panel" id="lower-sash-panel" style="display: none;">
            <h5>Lower Sash</h5>
            <div class="bar-pattern-buttons">
              <button class="pattern-btn" data-sash="lower" data-pattern="2x2">2√ó2</button>
              <button class="pattern-btn" data-sash="lower" data-pattern="3x3">3√ó3</button>
              <button class="pattern-btn" data-sash="lower" data-pattern="4x4">4√ó4</button>
              <button class="pattern-btn selected" data-sash="lower" data-pattern="6x6">6√ó6</button>
              <button class="pattern-btn" data-sash="lower" data-pattern="9x9">9√ó9</button>
              <button class="pattern-btn advanced" data-sash="lower" data-pattern="custom">Manual Edit</button>
            </div>
            <div id="lower-sash-canvas-container" class="canvas-container">
              <div class="canvas-wrapper">
                <canvas id="lower-sash-bars-canvas" class="bars-canvas" width="300" height="200"></canvas>
                <div class="canvas-background"></div>
              </div>
              <div class="bars-info">Lower Sash</div>
            </div>
            <div class="advanced-tools" id="lower-advanced-tools" style="display: none;">
              <button class="tool-btn" data-sash="lower" data-tool="add-horizontal">Add Horizontal</button>
              <button class="tool-btn" data-sash="lower" data-tool="add-vertical">Add Vertical</button>
              <button class="tool-btn" data-sash="lower" data-tool="clear">Clear All</button>
            </div>
          </div>
          
          <div class="bar-pattern-actions">
            <button class="btn" id="apply-pattern">Apply</button>
            <button class="btn btn-secondary" id="cancel-pattern">Cancel</button>
          </div>
        </div>
        
        <button class="btn btn-apply" id="apply-bars">Apply Georgian Bars</button>
      </div>
      
      <div class="config-section">
        <h3>Step 3: Frame Version</h3>
        <div class="radio-group">
          <div class="radio-option">
            <input type="radio" id="standard-frame" name="frame-type" value="standard" checked>
            <label for="standard-frame" class="radio-label">Standard Frame (164mm)</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="slim-frame" name="frame-type" value="slim">
            <label for="slim-frame" class="radio-label">Slim Frame (144mm)</label>
          </div>
        </div>
        <div id="slim-frame-warning" class="warning-box" style="display: none;">
          <p><strong>Note:</strong> Slim frame cannot accommodate Triple Glazing</p>
          <p>Non-standard product - additional cost applies</p>
        </div>
        <button class="btn btn-apply" id="apply-frame">Apply Frame Type</button>
      </div>
      
      <div class="config-section">
        <h3>Step 4: Color Selection</h3>
        <div class="input-group">
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="single-color" name="color-type" value="single" checked>
              <label for="single-color" class="radio-label">Single Color</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="dual-color" name="color-type" value="dual">
              <label for="dual-color" class="radio-label">Dual Color (In/Out)</label>
            </div>
          </div>
        </div>
        
        <div id="single-color-selector" style="margin-bottom: 15px;">
          <label>Select Color (both inside and outside):</label>
          <div class="color-options">
            <div class="color-option-wrapper">
              <div class="color-option selected" style="background-color: #FAFAFA;" data-color="white" data-name="Pure White" data-ral="RAL 9016"></div>
              <span class="color-name">Pure White</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option" style="background-color: #0A0A0A;" data-color="black" data-name="Jet Black" data-ral="RAL 9005"></div>
              <span class="color-name">Jet Black</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option" style="background-color: #293133;" data-color="anthracite" data-name="Anthracite Grey" data-ral="RAL 7016"></div>
              <span class="color-name">Anthracite Grey</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option" style="background-color: #424632;" data-color="olive" data-name="Olive Green" data-ral="RAL 6003"></div>
              <span class="color-name">Olive Green</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option" style="background-color: #F7F9F5;" data-color="offwhite" data-name="Off-White" data-ral="RAL 9010"></div>
              <span class="color-name">Off-White</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option" style="background-color: #F1EFDC;" data-color="cream" data-name="Cream" data-ral="RAL 9001"></div>
              <span class="color-name">Cream</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option" style="background-color: #5E2028;" data-color="burgundy" data-name="Burgundy Red" data-ral="RAL 3005"></div>
              <span class="color-name">Burgundy Red</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option" style="background-color: #222D5A;" data-color="royal" data-name="Royal Blue" data-ral="RAL 5002"></div>
              <span class="color-name">Royal Blue</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option" style="background-image: url('configurator-overlay/img/oak-pattern.jpg'); background-size: cover;" data-color="oak" data-name="Oak" data-ral="Natural Oak"></div>
              <span class="color-name">Oak</span>
            </div>
            <div class="color-option-wrapper">
              <div class="color-option custom-color-btn" style="background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #ffe66d, #95e1d3); position: relative;" data-color="custom" data-name="Custom Color" data-ral="Custom RAL">
                <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 18px; color: #333; text-shadow: 0 0 3px white;">+</span>
              </div>
              <span class="color-name">Custom Color</span>
            </div>
          </div>
          <div class="color-preview-info" id="single-color-preview-info">
            <div class="preview-item">
              <span class="preview-label">Selected Color:</span>
              <span class="preview-value" id="single-preview-name">Pure White</span>
            </div>
            <div class="preview-item">
              <span class="preview-label">RAL Code:</span>
              <span class="preview-value" id="single-preview-ral">RAL 9016</span>
            </div>
          </div>
        </div>
        
        <div id="dual-color-selector" style="display: none;">
          <p class="color-info">All dual color combinations: +10%</p>
          <div class="dual-color-section">
            <label>Select Interior Color:</label>
            <div class="color-options">
              <div class="color-option-wrapper">
                <div class="color-option interior-color selected" style="background-color: #FAFAFA;" data-color="white" data-name="Pure White" data-ral="RAL 9016"></div>
                <span class="color-name">Pure White</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color" style="background-color: #0A0A0A;" data-color="black" data-name="Jet Black" data-ral="RAL 9005"></div>
                <span class="color-name">Jet Black</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color" style="background-color: #293133;" data-color="anthracite" data-name="Anthracite Grey" data-ral="RAL 7016"></div>
                <span class="color-name">Anthracite Grey</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color" style="background-color: #424632;" data-color="olive" data-name="Olive Green" data-ral="RAL 6003"></div>
                <span class="color-name">Olive Green</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color" style="background-color: #F7F9F5;" data-color="offwhite" data-name="Off-White" data-ral="RAL 9010"></div>
                <span class="color-name">Off-White</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color" style="background-color: #F1EFDC;" data-color="cream" data-name="Cream" data-ral="RAL 9001"></div>
                <span class="color-name">Cream</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color" style="background-color: #5E2028;" data-color="burgundy" data-name="Burgundy Red" data-ral="RAL 3005"></div>
                <span class="color-name">Burgundy Red</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color" style="background-color: #222D5A;" data-color="royal" data-name="Royal Blue" data-ral="RAL 5002"></div>
                <span class="color-name">Royal Blue</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color" style="background-image: url('configurator-overlay/img/oak-pattern.jpg'); background-size: cover;" data-color="oak" data-name="Oak" data-ral="Natural Oak"></div>
                <span class="color-name">Oak</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option interior-color custom-color-btn" style="background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #ffe66d, #95e1d3); position: relative;" data-color="custom" data-name="Custom Color" data-ral="Custom RAL">
                  <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 18px; color: #333; text-shadow: 0 0 3px white;">+</span>
                </div>
                <span class="color-name">Custom Color</span>
              </div>
            </div>
          </div>
          <div class="dual-color-section">
            <label>Select Exterior Color:</label>
            <div class="color-options">
              <div class="color-option-wrapper">
                <div class="color-option exterior-color" style="background-color: #FAFAFA;" data-color="white" data-name="Pure White" data-ral="RAL 9016"></div>
                <span class="color-name">Pure White</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color selected" style="background-color: #0A0A0A;" data-color="black" data-name="Jet Black" data-ral="RAL 9005"></div>
                <span class="color-name">Jet Black</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color" style="background-color: #293133;" data-color="anthracite" data-name="Anthracite Grey" data-ral="RAL 7016"></div>
                <span class="color-name">Anthracite Grey</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color" style="background-color: #424632;" data-color="olive" data-name="Olive Green" data-ral="RAL 6003"></div>
                <span class="color-name">Olive Green</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color" style="background-color: #F7F9F5;" data-color="offwhite" data-name="Off-White" data-ral="RAL 9010"></div>
                <span class="color-name">Off-White</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color" style="background-color: #F1EFDC;" data-color="cream" data-name="Cream" data-ral="RAL 9001"></div>
                <span class="color-name">Cream</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color" style="background-color: #5E2028;" data-color="burgundy" data-name="Burgundy Red" data-ral="RAL 3005"></div>
                <span class="color-name">Burgundy Red</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color" style="background-color: #222D5A;" data-color="royal" data-name="Royal Blue" data-ral="RAL 5002"></div>
                <span class="color-name">Royal Blue</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color" style="background-image: url('configurator-overlay/img/oak-pattern.jpg'); background-size: cover;" data-color="oak" data-name="Oak" data-ral="Natural Oak"></div>
                <span class="color-name">Oak</span>
              </div>
              <div class="color-option-wrapper">
                <div class="color-option exterior-color custom-color-btn" style="background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #ffe66d, #95e1d3); position: relative;" data-color="custom" data-name="Custom Color" data-ral="Custom RAL">
                  <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 18px; color: #333; text-shadow: 0 0 3px white;">+</span>
                </div>
                <span class="color-name">Custom Color</span>
              </div>
            </div>
          </div>
          <div class="color-preview-info" id="dual-color-preview-info">
            <div class="preview-item">
              <span class="preview-label">Interior:</span>
              <span class="preview-value" id="dual-preview-interior">Pure White (RAL 9016)</span>
            </div>
            <div class="preview-item">
              <span class="preview-label">Exterior:</span>
              <span class="preview-value" id="dual-preview-exterior">Jet Black (RAL 9005)</span>
            </div>
          </div>
        </div>
        <button class="btn btn-apply" id="apply-color">Apply Color</button>
      </div>
      
      <div class="config-section">
        <h3>Step 5: Glass Type</h3>
        <div class="radio-group">
          <div class="radio-option">
            <input type="radio" id="double-glazing" name="glass-type" value="double" checked>
            <label for="double-glazing" class="radio-label">Double Glazing<br>(U-value: 1.4)</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="triple-glazing" name="glass-type" value="triple">
            <label for="triple-glazing" class="radio-label">Triple Glazing<br>(U-value: 1.2)</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="passive-glass" name="glass-type" value="passive">
            <label for="passive-glass" class="radio-label">Passive Glass<br>(U-value: 0.8)</label>
          </div>
        </div>
        <button class="btn btn-apply" id="apply-glass">Apply Glass Type</button>
      </div>
      
      <div class="config-section">
        <h3>Step 6: Opening Mechanism</h3>
        <div class="radio-group">
          <div class="radio-option">
            <input type="radio" id="both-open" name="opening-type" value="both" checked>
            <label for="both-open" class="radio-label">Both Sashes Open</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="bottom-open" name="opening-type" value="bottom">
            <label for="bottom-open" class="radio-label">Bottom Sash Only</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="fixed-only" name="opening-type" value="fixed">
            <label for="fixed-only" class="radio-label">Fixed Only (Non-opening)</label>
          </div>
        </div>
        <button class="btn btn-apply" id="apply-opening">Apply Opening Type</button>
      </div>
      
      <div class="config-section">
        <h3>Step 7: PAS 24 Security Standard</h3>
        <div class="input-group">
          <label>Enhanced Security Compliance:</label>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="pas24-yes" name="pas24" value="yes">
              <label for="pas24-yes" class="radio-label">Yes - PAS 24 Compliant</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="pas24-no" name="pas24" value="no" checked>
              <label for="pas24-no" class="radio-label">No - Standard Security</label>
            </div>
          </div>
        </div>
        <button class="btn btn-pas24-info" id="pas24-info">What is PAS 24?</button>
        <button class="btn btn-apply" id="apply-pas24">Apply Security Standard</button>
      </div>
      
      <div class="config-section">
        <h3>Step 8: Windows Ironmongery & Horns</h3>

        <!-- Ironmongery Section -->
        <div class="ironmongery-section">
          
          <!-- Gallery Button -->
          <div class="input-group">
            <button type="button" 
                    class="btn btn-ironmongery-gallery" 
                    onclick="openIronmongeryGallery()">
              üîß Browse Ironmongery Gallery
            </button>
            
            <!-- PREVIEW: Selected items -->
            <div id="ironmongery-summary-preview" 
                 style="margin-top: 10px; text-align: center; font-size: 0.85rem; color: #666; font-weight: 600;">
              No ironmongery selected
            </div>
            
            <p style="color: #666; font-size: 0.8rem; margin-top: 8px; text-align: center;">
              Select locks, handles, lifts, stoppers and horns
            </p>
          </div>

          <!-- Selected Products Display -->
          <div id="ironmongery-selection-display" style="display: none; margin-top: 20px; padding: 15px; background: #f9f9f9; border-radius: 8px; border: 1px solid #ddd;">
            <h5 style="margin: 0 0 15px 0; color: #333; font-size: 0.95rem;">Your Selection:</h5>
            <div id="selected-products-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; margin-bottom: 15px;">
              <!-- Miniaturki generowane przez JS -->
            </div>
            <div style="text-align: right; padding-top: 10px; border-top: 2px solid #ddd;">
              <strong style="color: #333; font-size: 1.1rem;">Total: <span id="ironmongery-total" style="color: var(--primary-color);">¬£0.00</span></strong>
            </div>
          </div>
        </div>

        <button class="btn btn-apply" id="apply-details">Apply Details</button>
      </div>
      
      <div class="config-section">
        <h3>Step 9: Glass Specification</h3>
        <div class="input-group">
          <label>Glass Type:</label>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="standard-glass" name="glass-spec" value="toughened" checked>
              <label for="standard-glass" class="radio-label">Toughened (Standard)</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="laminated-glass" name="glass-spec" value="laminated">
              <label for="laminated-glass" class="radio-label">Laminated (Extra Security)</label>
            </div>
          </div>
        </div>
        <div class="input-group">
          <label>Glass Finish:</label>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="clear-glass" name="glass-finish" value="clear" checked>
              <label for="clear-glass" class="radio-label">Clear</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="frosted-glass" name="glass-finish" value="frosted">
              <label for="frosted-glass" class="radio-label">Frosted (Bottom Sash Only)</label>
            </div>
          </div>
        </div>
        <div id="frosted-options" class="frosted-options" style="display: none;">
          <label>Frosted Glass Location:</label>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="frosted-bottom" name="frosted-location" value="bottom" checked>
              <label for="frosted-bottom" class="radio-label">Bottom Sash Only</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="frosted-both" name="frosted-location" value="both">
              <label for="frosted-both" class="radio-label">Top & Bottom Sashes</label>
            </div>
          </div>
        </div>
        <button class="btn btn-apply" id="apply-glass-spec">Apply Glass Specification</button>
      </div>
      
      <div class="config-section">
        <h3>Step 10: Window Quantity</h3>
        <div class="input-group">
          <label for="window-quantity">Number of windows with this configuration:</label>
          <input type="number" id="window-quantity" min="1" max="100" value="1" step="1">
          <p class="quantity-info">For multiple identical windows with the same configuration</p>
        </div>
      </div>
      
      <div class="config-section estimate-selector-section">
        <h3>Add Window To:</h3>
        <div class="estimate-selector-container">
          <select id="estimate-selector" class="estimate-dropdown">
            <option value="new">+ Create New Estimate</option>
            <!-- Dynamically loaded estimates -->
          </select>
        </div>
        <p class="estimate-info" id="estimate-info">Click the button below to proceed</p>
        
        <div class="input-group" style="margin-top: 15px;">
          <label for="window-custom-name">Window Name/Reference (optional):</label>
          <input type="text" id="window-custom-name" placeholder="e.g. GL01.02, Right - Main Bedroom, or leave blank for W1, W2..." 
                 style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 0.9rem;">
          <small style="color: #666; font-size: 0.85rem; display: block; margin-top: 5px;">
            Leave blank to use automatic numbering (W1, W2, W3...). Or enter your own reference from architectural plans.
          </small>
        </div>
      </div>
      
      <button class="btn" id="add-to-estimate">Create New Estimate & Add Window</button>
      <button class="btn btn-secondary" id="view-my-estimates">View My Estimates</button>
    </div>
    
    <div class="window-specification">
        <h2>Window Specification</h2>
        <div class="spec-section" id="spec-dimensions" style="display: none;">
          <h4>Dimensions</h4>
          <div class="spec-item">
            <span class="spec-label">Width:</span>
            <span class="spec-value" id="spec-width">-</span>
          </div>
          <div class="spec-item">
            <span class="spec-label">Height:</span>
            <span class="spec-value" id="spec-height">-</span>
          </div>
          <div class="spec-item">
            <span class="spec-label">Measurement Type:</span>
            <span class="spec-value" id="spec-measurement">-</span>
          </div>
        </div>
        
        <div class="spec-section" id="spec-bars" style="display: none;">
          <h4>Georgian Bars</h4>
          <div class="spec-item">
            <span class="spec-label">Upper Sash:</span>
            <span class="spec-value" id="spec-upper-bars">-</span>
          </div>
          <div class="spec-item">
            <span class="spec-label">Lower Sash:</span>
            <span class="spec-value" id="spec-lower-bars">-</span>
          </div>
          <div class="spec-item" id="spec-bar-distance-row" style="display: none;">
            <span class="spec-label">Distance from Edge:</span>
            <span class="spec-value" id="spec-bar-distance">-</span>
          </div>
        </div>
        
        <div class="spec-section" id="spec-frame" style="display: none;">
          <h4>Frame</h4>
          <div class="spec-item">
            <span class="spec-label">Type:</span>
            <span class="spec-value" id="spec-frame-type">-</span>
          </div>
        </div>
        
        <div class="spec-section" id="spec-color" style="display: none;">
          <h4>Color</h4>
          <div class="spec-single" id="spec-single-color" style="display: none;">
            <div class="spec-item">
              <span class="spec-label">Color:</span>
              <span class="spec-value" id="spec-color-name">-</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">RAL:</span>
              <span class="spec-value" id="spec-color-ral">-</span>
            </div>
          </div>
          <div class="spec-dual" id="spec-dual-color" style="display: none;">
            <div class="spec-item">
              <span class="spec-label">Interior:</span>
              <span class="spec-value" id="spec-interior-color">-</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Exterior:</span>
              <span class="spec-value" id="spec-exterior-color">-</span>
            </div>
          </div>
        </div>
        
        <div class="spec-section" id="spec-glass" style="display: none;">
          <h4>Glass</h4>
          <div class="spec-item">
            <span class="spec-label">Type:</span>
            <span class="spec-value" id="spec-glass-type">-</span>
          </div>
        </div>
        
        <div class="spec-section" id="spec-opening" style="display: none;">
          <h4>Opening Mechanism</h4>
          <div class="spec-item">
            <span class="spec-label">Type:</span>
            <span class="spec-value" id="spec-opening-type">-</span>
          </div>
        </div>
        
        <div class="spec-section" id="spec-pas24" style="display: none;">
          <h4>Security Standard</h4>
          <div class="spec-item">
            <span class="spec-label">PAS 24:</span>
            <span class="spec-value" id="spec-pas24-value">-</span>
          </div>
        </div>
        
        <div class="spec-section" id="spec-details" style="display: none;">
          <h4>Details</h4>
          <div class="spec-item" id="spec-horns-item" style="display: none;">
            <span class="spec-label">Horns:</span>
            <span class="spec-value" id="spec-horns">-</span>
          </div>
          <div class="spec-item" id="spec-ironmongery-item" style="display: none;">
            <span class="spec-label">Ironmongery:</span>
            <span class="spec-value" id="spec-ironmongery">-</span>
          </div>
          <!-- Miniaturki Ironmongery -->
          <div id="spec-ironmongery-thumbnails" style="display: none; margin-top: 10px;">
            <div style="display: flex; flex-wrap: wrap; gap: 6px; justify-content: center;">
              <!-- Miniaturki generowane przez JS -->
            </div>
          </div>
        </div>
        
        <div class="spec-section" id="spec-glass-spec" style="display: none;">
          <h4>Glass Specification</h4>
          <div class="spec-item">
            <span class="spec-label">Type:</span>
            <span class="spec-value" id="spec-glass-spec-type">-</span>
          </div>
          <div class="spec-item">
            <span class="spec-label">Finish:</span>
            <span class="spec-value" id="spec-glass-finish">-</span>
          </div>
        </div>
    </div>
    
    <div class="configurator-preview">
      <div class="svg-window-visualization">
        <div class="view">
          <div class="window-container" id="external-window-container">
            <img src="configurator-overlay/img/window_external_base.png" class="base" alt="External Window">
            <div class="opening-indicators" id="external-opening-indicators"></div>
          </div>
          <h3>External View</h3>
        </div>
        <div class="view">
          <div class="window-container" id="internal-window-container">
            <img src="configurator-overlay/img/window_internal_base.png" class="base" alt="Internal Window">
            <div class="opening-indicators" id="internal-opening-indicators"></div>
          </div>
          <h3>Internal View</h3>
        </div>
      </div>
      <div class="price-summary">
        <h3>Estimated Price</h3>
        <p class="total-price">¬£<span id="total-price">0.00</span></p>
        <div id="unit-price-display">
          <p style="color: #bc9e00">excluding VAT</p>
        </div>
      </div>
    </div>
  </div>
</main>

<div id="estimate-modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeEstimateModal()">&times;</span>
    <h2>Your Window Estimate</h2>
    <div id="estimate-summary">
      <div id="windows-list"></div>
      <div class="estimate-total">
        <h3>Total: ¬£<span id="estimate-total-price">0.00</span></h3>
        <p>Estimated Delivery: <span id="delivery-estimate">4-6 weeks</span></p>
      </div>
    </div>
    <div class="estimate-actions">
      <button class="btn" onclick="proceedToPayment()">Proceed to Payment</button>
      <button class="btn btn-secondary" onclick="downloadEstimatePDF()">Download PDF</button>
      <button class="btn btn-secondary" onclick="closeEstimateModal()">Continue Shopping</button>
    </div>
  </div>
</div>

<div id="pdf-modal" class="modal">
  <div class="modal-content pdf-content">
    <span class="close" onclick="closePdfModal()">&times;</span>
    <h2>Your PDF Estimate</h2>
    <div class="pdf-container">
      <iframe id="pdf-preview" src="" width="100%" height="500px"></iframe>
    </div>
    <div class="pdf-actions">
      <button class="btn" onclick="downloadPDF()">Download</button>
      <button class="btn btn-secondary" onclick="closePdfModal()">Close</button>
    </div>
  </div>
</div>

<div id="replace-variant-modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="document.getElementById('replace-variant-modal').style.display='none'">&times;</span>
    <h2>Choose Variant to Replace</h2>
    <div id="variants-list" class="variants-list"></div>
  </div>
</div>

<!-- Create New Estimate Modal -->
<div id="new-estimate-modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="document.getElementById('new-estimate-modal').style.display='none'">&times;</span>
    <h2>Create New Estimate</h2>
    <div class="modal-form">
      <div class="form-group">
        <label for="new-estimate-project-name">Project Name *</label>
        <input type="text" id="new-estimate-project-name" placeholder="e.g., Smith Residence, 123 High Street" required>
        <p class="form-hint">Give this estimate a name to identify it later</p>
      </div>
      
      <div class="form-group">
        <label for="new-estimate-address">Delivery Address</label>
        <textarea id="new-estimate-address" rows="3" placeholder="Full delivery address (optional)"></textarea>
      </div>
      
      <div class="form-group">
        <label for="new-estimate-notes">Notes (Optional)</label>
        <textarea id="new-estimate-notes" rows="2" placeholder="Any additional notes about this project"></textarea>
      </div>
      
      <div class="modal-actions">
        <button class="btn" id="create-estimate-btn">Create Estimate</button>
        <button class="btn btn-secondary" onclick="document.getElementById('new-estimate-modal').style.display='none'">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal tworzenia nowej wyceny -->
<div id="create-estimate-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Create New Estimate</h2>
    <p style="margin-bottom: 20px; color: #666;">Start a new estimate for your project</p>
    <form id="create-estimate-form">
      <div style="margin-bottom: 15px;">
        <label for="project-name" style="display: block; margin-bottom: 5px; font-weight: 600;">Project Name *</label>
        <input type="text" id="project-name" required placeholder="e.g. Kitchen Renovation" 
               style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 5px; font-size: 16px;">
      </div>
      
      <div style="margin-bottom: 20px;">
        <label for="delivery-address" style="display: block; margin-bottom: 5px; font-weight: 600;">Delivery Address</label>
        <textarea id="delivery-address" rows="3" placeholder="Full delivery address (optional)" 
                  style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 5px; font-size: 16px; resize: vertical;"></textarea>
      </div>
      
      <button type="submit" class="btn" style="width: 100%; padding: 12px; font-size: 16px;">
        Create Estimate
      </button>
    </form>
  </div>
</div>

<footer class="footer-new">
  <p>&copy; 2025 Skylon Timber & Glazing. All rights reserved.</p>
  <p>A trading name of Skylon Joinery LTD</p>
  <div class="footer-links">
    <a href="#">Privacy Policy</a>
    <a href="#">Terms of Service</a>
    <a href="contact.html">Contact Us</a>
  </div>
</footer>

<!-- SCRIPTS - POPRAWIONA KOLEJNO≈öƒÜ -->
<!-- Ironmongery Image Modal -->
<div id="ironmongery-image-modal" class="modal" style="display: none;">
  <div class="modal-content" style="max-width: 800px;">
    <span class="modal-close" onclick="document.getElementById('ironmongery-image-modal').style.display='none'">&times;</span>
    <div id="ironmongery-modal-content">
      <h2 id="ironmongery-modal-title" style="margin-bottom: 20px;"></h2>
      <img id="ironmongery-modal-image" src="" alt="" style="width: 100%; max-width: 600px; margin: 0 auto; display: block; border-radius: 8px;">
      <p id="ironmongery-modal-description" style="margin-top: 20px; color: #555; line-height: 1.6;"></p>
    </div>
  </div>
</div>

<!-- Supabase MUSI BYƒÜ PIERWSZY - przed wszystkimi skryptami kt√≥re go u≈ºywajƒÖ -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase-config.js"></script>

<!-- 1. HELPERS MUSI BYƒÜ PIERWSZY! -->
<script src="js/helpers.js"></script>
<!-- 2. Pricing config -->
<script src="js/ironmongery-data.js"></script>
<script src="js/ironmongery-gallery.js"></script>
<script src="js/pricing-config.js"></script>
<script src="js/config.js"></script>
<script src="js/price-calculator.js"></script>
<script src="js/storage-manager.js"></script>
<script src="js/form-handler.js"></script>
<script src="js/dimension-handler.js"></script>
<script src="js/visualization-manager.js"></script>
<script src="js/bars-unified.js"></script>
<script src="js/details-controller.js"></script>
<script src="js/specification-controller.js"></script>
<script src="js/configurator-core.js"></script>

<!-- Authentication Integration -->
<script src="js/menu-loader.js"></script>
<script src="js/auth.js"></script>
<link rel="stylesheet" href="css/auth.css">

<!-- Estimate Manager Integration -->
<script src="js/estimate-selector.js"></script>
<script src="js/estimate-manager.js"></script>

<!-- Ironmongery Gallery Overlay -->
<div id="ironmongeryOverlay" class="ironmongery-overlay">
  <div class="ironmongery-gallery">
    
    <!-- Header -->
    <div class="gallery-header">
      <h2>Ironmongery Gallery</h2>
      <button id="galleryClose" class="gallery-close" aria-label="Close">&times;</button>
    </div>

    <!-- Type Selector (NEW) -->
    <div class="type-selector">
      <button class="type-btn active" data-type="standard">Standard</button>
      <button class="type-btn" data-type="pas24">PAS24</button>
      <button class="type-btn" data-type="horns">Windows Horns</button>
    </div>
    
    <!-- PAS24 Info (hidden by default) -->
    <div id="pas24-info-box" class="pas24-info-box" style="display: none;">
      <p>‚ö†Ô∏è For PAS24 certified windows, select Sash Lock here. For other hardware (Finger Lifts, Pull Handles, Stoppers) please choose from <strong>Standard</strong> list.</p>
    </div>

    <!-- Color Filters -->
    <div class="gallery-filters">
      <button class="filter-btn active" data-finish="all">All Finishes</button>
      <button class="filter-btn" data-finish="chrome">Chrome</button>
      <button class="filter-btn" data-finish="satin">Satin</button>
      <button class="filter-btn" data-finish="brass">Brass</button>
      <button class="filter-btn" data-finish="antique-brass">Antique Brass</button>
      <button class="filter-btn" data-finish="black">Black</button>
      <button class="filter-btn" data-finish="white">White</button>
    </div>

    <!-- Category Tabs -->
    <div class="category-tabs">
      <button class="category-tab active" data-category="locks">Sash Locks</button>
      <button class="category-tab" data-category="fingerLifts">Finger Lifts</button>
      <button class="category-tab" data-category="pullHandles">Pull Handles</button>
      <button class="category-tab" data-category="stoppers">Stoppers</button>
      <button class="category-tab" data-category="horns">Sash Horns</button>
    </div>

    <!-- Products Grid -->
    <div id="productsGrid" class="products-grid">
      <!-- Products rendered by JS -->
    </div>

    <!-- Footer with Total -->
    <div class="gallery-footer">
      <div class="selection-summary">
        <div class="selection-total">
          Selection Total: <span id="selectionTotal">¬£0.00</span>
        </div>
        <div class="selected-items-preview" id="selectedItemsPreview">
          <!-- Miniaturki wybranych produkt√≥w bƒôdƒÖ tutaj -->
        </div>
      </div>
      <div class="selection-buttons">
        <button id="clearSelection" class="btn-clear-selection">
          Clear Selection
        </button>
        <button id="confirmSelection" class="btn-confirm-selection">
          Confirm Selection
        </button>
      </div>
    </div>

  </div>
</div>

</body>
</html>